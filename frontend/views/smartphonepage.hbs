<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>CodePen - Popular Products Section Using HTML , CSS , Bootstrap</title>
	<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css'>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css'>
	<link rel="stylesheet" href="/styles/style.css">
	<link rel="stylesheet" href="/styles/admin.css">
	<link href='http://fonts.googleapis.com/css?family=Duru+Sans|Actor' rel='stylesheet' type='text/css'>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@600&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap" rel="stylesheet">
	<link href="/styles/styles2.css" rel="stylesheet">
	<link href="/styles/homepage.css" rel="stylesheet">
</head>

<body>
	<style>
		body {
			background-color: white;
		}

		.image-container {
			width: 229px;
			height: 171px;

		}

		.fixed-size-image {
			width: 128px;
			height: 156px;
			object-fit: contain;

		}

		.navbar-nav .nav-link.dropdown-toggle::after {
			display: none;
		}

		.navimage {
			width: 2.5rem;
			margin-bottom: -1rem;
			border-radius: 1rem;
		}

		.navimage:hover {
			width: 2.5rem;
			border-style: groove;
			margin-bottom: -1rem;
			border-radius: 1rem;
		}

		.nav-link {
			position: relative;
		}

		.nav-link::after {
			content: '';
			position: absolute;
			left: 0;
			bottom: -2px;
			width: 100%;
			height: 2px;
			background-color: black;
			transform: scaleX(0);
			transform-origin: left center;
			transition: transform 0.3s ease-in-out;
		}

		.nav-link:hover::after {
			transform: scaleX(1);
		}


		.dropdown-menu {
			background-color: #f8f9fa;
			border: none;
			padding: 1rem;
			box-shadow: 0 0 10px rgba(0, 0, 0, .1);
		}

		/* Add glowing effect to stars */
		.glowing {
			color: #ffc107;
			/* Set the desired glowing color */
			animation: glowingStars 1s infinite alternate;
			font-weight: 800;
		}

		@keyframes glowingStars {
			from {
				opacity: 1;
			}

			to {
				opacity: 0.7;
			}
		}
	</style>
	<!-- Navigation bar -->
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
		<div class="container">
			<a class="navbar-brand" href="/">
				<img src="/image/Gold Luxury Initial Circle Logo (1).png" alt="Logo" width="30" height="24"
					class="d-inline-block align-text-top">
				Digital Tech
			</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mx-auto mb-lg-0">
					<li class="nav-item">
						<form class="d-flex" role="search">
							<input class="form-control me-2" id="search-input" type="search" placeholder="Search"
								aria-label="Search">

						</form>
					</li>
				</ul>
				<ul class="navbar-nav  mb-lg-0">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
							aria-expanded="false">
							Category
						</a>
						<ul class="dropdown-menu">
							<li><a class="dropdown-item nav-link" href="/smartphone">Smartphone</a></li>
							<li><a class="dropdown-item nav-link" href="/laptop">Laptop</a></li>
							<li><a class="dropdown-item nav-link" href="/headphone">Headphones</a></li>
						</ul>
					</li>
				</ul>


				<ul class="navbar-nav mb-lg-0">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
							aria-expanded="false">
							Account
						</a>
						<ul class="dropdown-menu">
							<li><a class="dropdown-item nav-link" href="/cart">Cart</a></li>
							<li><a class="dropdown-item nav-link" href="/orderhistory">Order History</a></li>
							<li><a class="dropdown-item nav-link" href="/address">Address</a></li>
							<li><a class="dropdown-item nav-link" href="/wishlist">Wishlist</a></li>
							{{#if userSession}}
							<li><a href="/logout" class="dropdown-item nav-link">Logout</a></li>
							{{else}}
							<li><a href="/login" class="dropdown-item nav-link">Login</a></li>
							{{/if}}
						</ul>
					</li>
				</ul>

				<ul style="margin-bottom: auto;"><a href="/profile" class="profile">
						<img style=" width:3rem  " class="navimage"
							src="/image/Gold Luxury Initial Circle Logo (1).png">
					</a></ul>

			</div>
		</div>
	</nav>



	<section id="sidebar">
		<a href="/" class="brand">
			<i class='bx bxs-smile'></i>
			<span class="text">Digital Tech</span>
		</a>




		<div class="row " style="justify-content:center;">
			<div class="col-md-9">
				<!-- Sidebar -->
				<div class="sidebar">
					<div class="filter-section rounded">
						<h3>Filter</h3>
						<form action="/smartphone" method="get" id="filterForm">
							<div class="form-group ">
								<label for="minPrice">Min Price:</label>
								<input type="number" name="minPrice" id="minPrice" class="form-control">
							</div>
							<div class="form-group mt-3">
								<label for="maxPrice">Max Price:</label>
								<input type="number" name="maxPrice" id="maxPrice" class="form-control">
							</div>
							<button type="submit" class="btn mt-4 btn-primary">Apply Filters</button>
						</form>
					</div>
				</div>
			</div>

			<div class="col-md-9">
				<!-- Product List and Sort Section -->
				<div class="product-list">
					<div class="sort-section mt-4 rounded">
						<h3>Sort By</h3>
						<select name="sortBy" id="sortBy" class="form-control">
							<option value="">All</option>
							<option value="priceLowToHigh">Price: Low to High</option>
							<option value="priceHighToLow">Price: High to Low</option>
						</select>
					</div>

					<div class="sort-section mt-4 rounded">
						<label for="brandFilter">Filter by Brands:</label>
						<select id="brandFilter" name="brandFilter" class="form-control">
							<option value="">All Brands</option>
							<option value="Apple">Apple</option>
							<option value="Samsung">Samsung</option>
							<option value="Google">Google</option>
							<option value="Huawei">Huawei</option>
							<option value="Xiaomi">Xiaomi</option>
							<option value="OnePlus">OnePlus</option>
							<option value="LG">LG</option>
							<option value="Sony">Sony</option>
							<option value="Motorola">Motorola</option>
							<option value="Nokia">Nokia</option>
							<option value="HTC">HTC</option>
							<option value="Lenovo">Lenovo</option>
							<option value="ASUS">ASUS</option>
							<option value="BlackBerry">BlackBerry</option>
							<option value="Oppo">Oppo</option>
							<option value="Vivo">Vivo</option>
							<option value="Realme">Realme</option>
							<option value="ZTE">ZTE</option>
							<option value="Alcatel">Alcatel</option>
							<option value="Sharp">Sharp</option>
							<option value="Panasonic">Panasonic</option>
						</select>
						<button type="button" id="brandsort" class="btn mt-4 btn-danger" onclick="applyFilters()">Apply
							Sort</button>
						<button type="button" id="resetsort" class="btn mt-4 btn-danger" onclick="resetFilters()">Reset
						</button>
					</div>
				</div>
			</div>



	</section>
	<!-- SIDEBAR -->



<script>
  function applyFilters() {
    // Get the selected sort option
    var sortBy = document.getElementById("sortBy").value;

    // Get the selected brand filter
    var brandFilter = document.getElementById("brandFilter").value;

    // Construct the URL with the selected filters
    var baseUrl = window.location.origin; // Get the base URL dynamically
    var url = baseUrl + "/smartphone?";
    url += "sortBy=" + encodeURIComponent(sortBy);
    url += "&brandFilter=" + encodeURIComponent(brandFilter);

    // Redirect to the URL with the filters applied
    window.location.href = url;
  }

  function resetFilters() {
    // Refresh the page and load the default URL
    window.location.href = window.location.origin + "/smartphone";
  }

  // Restore the selected options after page reload
  window.addEventListener("DOMContentLoaded", function () {
    var urlParams = new URLSearchParams(window.location.search);
    var sortBy = urlParams.get("sortBy");
    var brandFilter = urlParams.get("brandFilter");

    document.getElementById("sortBy").value = sortBy || "";
    document.getElementById("brandFilter").value = brandFilter || "";
  });
</script>


	<!-- CONTENT -->
	<section id="content">


		<!-- partial:index.partial.html -->
		<section class="section-products">
			<div class="container">
				<div class="row justify-content-center text-center">
					<div class="col-md-8 col-lg-6">
						<div class="header">
							<h3 class="mt-5">Featured Product</h3>
							<h2 class="text-danger">SmartPhones</h2>
						</div>
					</div>
				</div>


				{{!-- <!-- Display the product list -->
				<div class="product-list">
					{{#each smartphone}}
					<div class="product">
						<img src="/uploads/{{image.filepath}}" alt="{{image.title}}">
						<h3>{{productname}}</h3>
						<p>{{description}}</p>
						<p>Price: {{productprice}}</p>
						<p>Sale Price: {{saleprice}}</p>
						<p>Stock: {{stock}}</p>
					</div>
					{{/each}}
				</div> --}}



			</div>




			<div class="container-fluid mt-5">
				{{#each smartphone}}
				<div class="col-md-6 col-lg-12 col-xl-3">
					<div id="product-{{_id}}" class="single-product" data-rating="{{averageRating}}">
						<div class="part-2 d-flex" style="width: 43rem;margin-left: 2rem;">
							{{#if this.image}}
							<div class="productimage">
								<div class="image-container">

									<img src="/{{this.image.filepath}}" alt="{{this.image.title}}"
										class="fixed-size-image" style="margin-top: -1rem;">

								</div>
							</div>
							{{/if}}
							<div class="product-details" style="margin-left: 3rem;">
								<a class="product-title" href="/productpage/{{_id}}">{{this.productname}}</a><br>

								<h6><span style="text-decoration: line-through;"
										class="product-old-price">{{this.productprice}}</span>
									<span style="font-weight: 900; font-size: 21px;">Rs.{{this.saleprice}}</span>
								</h6>

								{{!-- <h4 class="product-price">Rs.{{this.saleprice}}</h4> --}}
								<div class="text-warning mb-1 me-2">
									<i class="far fa-star"></i>
									<i class="far fa-star"></i>
									<i class="far fa-star"></i>
									<i class="far fa-star"></i>
									<i class="far fa-star"></i>
									<span class="ms-1" style="width: 37rem; display: flex;">
										<p>{{averageRating}}<i class="fas fa-star"></i> {{reviewCount}} Review &
											{{reviewCount}} rating</p>
									</span>
								</div>

								<script>
									const productContainers = document.querySelectorAll('.single-product');

									productContainers.forEach(container => {
										const stars = container.querySelectorAll('.text-warning .fa-star');
										const average = parseInt(container.getAttribute('data-rating'));

										stars.forEach((star, index) => {
											if (index < average) {
												star.classList.add('glowing');
											}
										});
									});
								</script>




								{{!-- <ul class="list-unstyled" style=" line-height: 2rem;">
									{{#each highlight2}}
									<li><i class="fas fa-check text-success me-2"></i>{{this.point1}}</li>
									<li><i class="fas fa-check text-success me-2"></i>{{this.point2}}</li>
									<li><i class="fas fa-check text-success me-2"></i>{{this.point3}}</li>
									<li><i class="f		as fa-check text-success me-2"></i>{{this.point4}}</li>
									<li><i class="fas fa-check text-success me-2"></i>{{this.point5}}</li>
									{{/each}}
								</ul> --}}
							</div>
						</div>
					</div>
				</div>
				{{/each}}
			</div>



		</section>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
			crossorigin="anonymous"></script>


		<script>
			document.addEventListener("DOMContentLoaded", function () {
				var searchInput = document.querySelector("#search-input");
				searchInput.addEventListener("keyup", function () {
					var searchValue = searchInput.value.toLowerCase();

					var productTitles = document.querySelectorAll(".product-title");
					productTitles.forEach(function (productTitle) {
						var title = productTitle.textContent.toLowerCase();
						var product = productTitle.closest(".single-product");
						if (title.indexOf(searchValue) > -1) {
							product.style.display = "block";
						} else {
							product.style.display = "none";
						}
					});
				});
			});

		</script>

</body>

</html>