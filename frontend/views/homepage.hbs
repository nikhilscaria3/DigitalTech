<!DOCTYPE html>
<html>

<head>
    <title>HomePage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    {{!--
    <link href="/styles/bootstrap.css" rel="stylesheet"> - --}}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">

<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css'>
    <!--Google Fonts-->
    <link href='http://fonts.googleapis.com/css?family=Duru+Sans|Actor' rel='stylesheet' type='text/css'>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap" rel="stylesheet">
    <!--Bootshape-->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <link href="/styles/homepage.css" rel="stylesheet">
    <script src="/js/homeapage.js"></script>
    {{!--
    <link href="/styles/animation.css" rel="stylesheet"> --}}
</head>

<body>
    <style>
        .row {
            width: 100%;
            height: 100%;
            justify-content: center;
            display: flex;
            flex-wrap: wrap;

        }

        .col {
            width: 48rem;
            line-height: 27px;
            margin-left: 4rem
        }


        .product-container {
            display: flex;
            align-items: flex-start;

        }

        .product-card {
            margin-left: 7rem;
        }

        .fixed-image {

            width: 150px;
            height: 200px;
            object-fit: scale-down;

        }

        .card-img-top {
            width: 14rem;
            height: 200px;
            justify-content: center;
            align-items: center;
            margin-left: 6rem;

        }

        .navbar-nav .nav-link.dropdown-toggle::after {
            display: none;
        }

        .navimage {
            width: 2.5rem;
            margin-bottom: -1rem;
            border-radius: 1rem;
        }

        .navimage:hover {
            width: 2.5rem;
            border-style: groove;
            margin-bottom: -1rem;
            border-radius: 1rem;
        }

        .nav-link {
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 100%;
            height: 2px;
            background-color: black;
            transform: scaleX(0);
            transform-origin: left center;
            transition: transform 0.3s ease-in-out;
        }

        .nav-link:hover::after {
            transform: scaleX(1);
        }


        h1 {
            font-family: cursive;
            font-size: 28px;
            text-align: center;
            text-transform: uppercase;
            text-rendering: optimizeLegibility;

        }

        .deepshadow {
            color: #2c2c2c;
            letter-spacing: .05em;
            text-shadow: 2px 2px 0px #d5d5d5, 4px 4px 0px rgba(0, 0, 0, 0.2);
        }

        .idresult {
            z-index: 1000;
            position: absolute;
            background: aliceblue;
            color: rgb(52, 52, 54);
            top: 4rem;
            left: 23rem;
            padding: 2rem;


        }

        .idresult:hover {
            z-index: 1000;
            position: absolute;
            background: aliceblue;
            color: rgb(0, 0, 0);
            top: 4rem;
            left: 23rem;
            padding: 2rem;
        }

        #search-results {
            list-style-type: none;
            /* Remove default list styles */
            padding: 0;
        }

        #search-results li {
            padding: 10px;
            border-bottom: 1px solid #ccc;
            cursor: pointer;
        }

        #search-results li:hover {
            background-color: #f2f2f2;
        }

        #search-results li:last-child {
            border-bottom: none;
            /* Remove bottom border on the last item */
        }
        .fa-star{
            color: gold;
          
        }
    </style>
    <style>

    </style>
    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="/image/Gold Luxury Initial Circle Logo (1).png" alt="Logo" width="30" height="24"
                    class="d-inline-block align-text-top">
                Digital Tech
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mx-auto mb-lg-0">
                    <li class="nav-item">
                        <form id="search-form">
                            <input type="text" id="search-input" placeholder="Search..">
                            {{!-- <ul id="search-results" class="idresult" style=""></ul> --}}
                        </form>
                    </li>
                </ul>

                <ul id="search-results" class="idresult" style=""></ul>


                {{#if userSession}}

                {{else}}
                <a href="/login" class="btn btn-primary">Login</a>
                {{/if}}
                <ul class="navbar-nav  mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Category
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item nav-link" href="/smartphone">Smartphone</a></li>
                            <li><a class="dropdown-item nav-link" href="/laptop">Laptop</a></li>
                            <li><a class="dropdown-item nav-link" href="/headphone">Headphones</a></li>
                        </ul>
                    </li>
                </ul>

                <ul class="navbar-nav  mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Account
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item nav-link" href="/cart">Cart</a></li>
                            <li><a class="dropdown-item nav-link" href="/orderhistory">Order History</a></li>
                            <li><a class="dropdown-item nav-link" href="/address">Address</a></li>
                            <li><a class="dropdown-item nav-link" href="/wishlist">Wishlist</a></li>
                            {{#if userSession}}
                            <li>
                                <a href="/logout" class="dropdown-item nav-link">logout</a>
                            </li>
                            {{else}}

                            {{/if}}


                        </ul>
                    </li>
                </ul>
                <ul><a href="/profile" class="profile">
                        <img style="   " class="navimage" src="/image/Gold Luxury Initial Circle Logo (1).png">
                    </a></ul>

            </div>
        </div>
    </nav>



    <div id="carouselExampleRide" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                class="active bg-dark" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" class=" bg-dark"
                aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" class=" bg-dark"
                aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            {{#each banners}}
            <div class="carousel-item {{#if @first}}active{{/if}}">
                <div class="box">
                    <img src="{{filepath}}" class="d-block w-100" alt="Banner Image">
                </div>
            </div>
            {{/each}}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>




  <section class="section1">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-12">
                <div class="add-card"
                    style="background: linear-gradient(rgba(1,1,1,.5), rgba(1,1,1,.5)), url(https://i.ibb.co/zmnBPpr/card1.jpg);">
                    <section>
                        <span class="title">New Year Bonanza</span>
                        <span class="sub-title">Upto 25% Off On SmartPhones</span>
                        <a href="/smartphone" class="btn1">Grab Now</a>
                    </section>
                </div>
            </div>
            <div class="col-lg-4 col-md-12">
                <div class="add-card"
                    style="background: linear-gradient(rgba(1,1,1,.5), rgba(1,1,1,.5)), url(https://i.ibb.co/rH35598/card2.jpg);">
                    <section>
                        <span class="title">New Year Bonanza</span>
                        <span class="sub-title">Upto 25% Off On Laptops</span>
                        <a href="/laptop" class="btn1">Grab Now</a>
                    </section>
                </div>
            </div>
            <div class="col-lg-4 col-md-12">
                <div class="add-card"
                    style="background: linear-gradient(rgba(1,1,1,.5), rgba(1,1,1,.5)), url(https://i.ibb.co/b1pfh8c/card3.jpg);">
                    <section>
                        <span class="title">New Year Bonanza</span>
                        <span class="sub-title">Upto 25% Off On Headphones</span>
                        <a href="" class="btn1">Grab Now</a>
                    </section>
                </div>
            </div>
        </div>
    </div>
</section>



    <section class="container py-5">
        <div class="row text-center pt-3">
            <div class="col-lg-6 m-auto">
                <h1 class="deepshadow">Categories Of The Month</h1>
                <p>
                    Best Quality Products
                </p>
                <a href="/allproduct">View All</a>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-4 p-5 mt-3">
                <a href="/smartphone/"><img
                        src="/image/Xiaomi-11-Prime-5G-Smart-Phone-493178796-i-1-1200Wx1200H-300Wx300H.jpeg"
                        class=" img-fluid border"></a>
                <h2 class="h5 text-center mt-3 mb-3">Smartphones</h2>
                <p class="text-center"><a class="btn btn-success">Go Shop</a></p>
            </div>
            <div class="col-12 col-md-4 p-5 mt-3">
                <a href="/laptop"><img src="/image/Apple-MGN63HNA-Laptops-491946461-i-1-1200Wx1200H-300Wx300H.jpeg"
                        class=" img-fluid border"></a>
                <h2 class="h5 text-center mt-3 mb-3">Laptops</h2>
                <p class="text-center"><a class="btn btn-success">Go Shop</a></p>
            </div>
            <div class="col-12 col-md-4 p-5 mt-3">
                <a href="#"><img
                        src="/image/ZEBRONICS-Zeb-PARADISEBEIGE-BTSTEREOHEADPHONE-492573074-i-1-1200Wx1200H-300Wx300H.jpeg"
                        class="img-fluid border"></a>
                <h2 class="h5 text-center mt-3 mb-3">Headphones</h2>
                <p class="text-center"><a class="btn btn-success">Go Shop</a></p>
            </div>
        </div>
    </section>

    <!-- Start Featured Product -->
    <section class="bg-light">
        <div class="container py-5">
            <div class="row text-center py-3">
                <div class="col-lg-6 m-auto">
                    <h1 class="h1">Featured Product</h1>
                    <p>
                        Smartphones
                    </p>
                    <a href="/smartphone">View All</a>
                </div>
            </div>

            <div class="row">
                {{#each product}}
                <div class="col-12 col-md-4 mb-4">
                    <div class="card h-100">
                        <a href="/productpage/{{this._id}}">
                            <img src="/{{this.image.filepath}}" class="card-img-top" style="width: 12rem;" alt="...">
                        </a>
                        <div class="card-body">
                            <ul class="list-unstyled d-flex justify-content-between">
                                <li>

                                </li>
                                <li class="text-muted text-right">Rs.{{this.saleprice}}</li>
                            </ul>
                            <a href="/productpage/{{this._id}}"
                                class="h2 text-decoration-none text-dark">{{this.productname}}</a>
                            <p class="card-text">

                            </p>
                            <p class="text-muted">Reviews ({{this.rating}} <i class="fas fa-star"></i>)</p>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
    </section>

    <!-- End Featured Product -->

    <section class="bg-light">
        <div class="container py-5">
            <div class="row text-center py-3">
                <div class="col-lg-6 m-auto">
                    <h1 class="h1">Featured Product</h1>
                    <p>
                        Laptops
                    </p>
                    <a href="/laptop">View All</a>
                </div>
            </div>
            <div class="row">
                {{#each laptops}}
                <div class="col-12 col-md-4 mb-4">
                    <div class="card h-100">
                        <a href="/productpage/{{this._id}}">
                            <img src="/{{this.image.filepath}}" class="card-img-top" style="width: 12rem;" alt="...">
                        </a>
                        <div class="card-body">
                            <ul class="list-unstyled d-flex justify-content-between">
                                <li>

                                </li>
                                <li class="text-muted text-right">Rs.{{this.saleprice}}</li>
                            </ul>
                            <a href="/productpage/{{this._id}}"
                                class="h2 text-decoration-none text-dark">{{this.productname}}</a>
                            <p class="card-text">

                            </p>
                            <p class="text-muted">Reviews ({{this.rating}} <i class="fas fa-star"></i>) </p>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
    </section>

    <!-- Start Featured Product -->
    <section class="bg-light">
        <div class="container py-5">
            <div class="row text-center py-3">
                <div class="col-lg-6 m-auto">
                    <h1 class="h1">Featured Product</h1>
                    <div class="headview">
                        <p>
                            Headphones
                        </p>
                        <a href="/headphone">View All</a>
                    </div>
                </div>
            </div>
            <div class="row">
                {{#each headphones}}
                <div class="col-12 col-md-4 mb-4">
                    <div class="card h-100">
                        <a href="shop-single.html">
                            <img src="/{{this.image.filepath}}" class="card-img-top" style="width: 12rem;" alt="...">
                        </a>
                        <div class="card-body">
                            <ul class="list-unstyled d-flex justify-content-between">
                                <li>

                                </li>
                                <li class="text-muted text-right">Rs.{{this.saleprice}}</li>
                            </ul>
                            <a href="/productpage/{{this._id}}"
                                class="h2 text-decoration-none text-dark">{{this.productname}}</a>
                            <p class="card-text">

                            </p>
                            <p class="text-muted">Reviews ({{this.rating}} <i class="fas fa-star"></i>) </p>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
    </section>

    <!-- End Featured Product -->
    <!-- Start Footer -->

    <section class="section6">
        <table>
            <tr>
                <td>

                </td>
                <td>
                    <span class="title">Download Digital Tech App Now</span>
                    <span class="sub-title">Fast, Simple & Delightful. All it takes is 15 seconds to
                        Download.</span>
                    <a href="#" class="w-12 btn1"><i class="fa fa-android"></i> DOWNLOAD</a>
                </td>
            </tr>
        </table>
    </section>



    <footer>
        <div class="footer">
            <ul>
                <li>Digital Tech</li>
                <li>
                    <select>
                        <option value="english">English</option>
                        <option value="chinese">Chinese</option>
                        <option value="deutsch">Deutsch</option>
                        <option value="hindi">Hindi</option>
                        <option value="portuguese">Portuguese</option>
                        <option value="spanish">Spanish</option>
                    </select>
                </li>
                <li>
                    <select>
                        <option value="Dollar">USD: US-Dollar</option>
                    </select>
                </li>
            </ul>

            <ul>
                <li class="title">OTHER LINKS</li>
                <li>Contact Us</li>
                <li>Privacy Policy</li>
                <li>Terms & Conditions</li>
                <li>Tickets</li>
                <li>Customer Service</li>
                <li>Our App</li>
            </ul>

            <ul>
                <li class="title">SHORTCUT</li>
                <li>Electronics</li>
                <li>Men & Women</li>
                <li>House Hold</li>
                <li>Sport & Fitness</li>
                <li>Books</li>
                <li>Kids Corner</li>
            </ul>

            <ul>
                <li class="title">LET HELP YOU</li>
                <li>Covid-19</li>
                <li>Your Account</li>
                <li>Shipping Rates</li>
                <li>Replacement</li>
                <li>Help</li>
                <li>
                    <a href="#"><i class="fa fa-facebook"></i></a>
                    <a href="#"><i class="fa fa-instagram"></i></a>
                    <a href="#"><i class="fa fa-twitter"></i></a>
                    <a href="#"><i class="fa fa-youtube"></i></a>
                </li>
            </ul>
        </div>
        <div class="sub-footer">

        </div>
    </footer>




    <!--ADDITIONAL-->
    <div id="id01" class="modal">

        <section class="modal-content animate" action="/action_page.php" method="post">
            <div class="imgcontainer">
                <span onclick="document.getElementById('id01').style.display='none'" class="close"
                    title="Close Modal">&times;</span>
            </div>
        </section>
    </div>


    {{!--

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var searchInput = document.querySelector("#search-input");
            var products = document.querySelectorAll(".col-12");

            searchInput.addEventListener("keyup", function () {
                var searchValue = searchInput.value.toLowerCase();

                products.forEach(function (product) {
                    var productTitle = product.querySelector(".h2");
                    var title = productTitle.textContent.toLowerCase();

                    if (searchValue === "" || title.indexOf(searchValue) > -1) {
                        product.style.display = "block";
                    } else {
                        product.style.display = "none";
                    }
                });
            });
        });
    </script> --}}

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('search-input');
            const searchResults = document.getElementById('search-results');

            searchInput.addEventListener('input', function () {
                const searchTerm = searchInput.value.trim();
                if (searchTerm.length === 0) {
                    searchResults.innerHTML = '';
                    return;
                }

                fetch(`/search?term=${encodeURIComponent(searchTerm)}`)
                    .then(response => response.json())
                    .then(products => {
                        searchResults.innerHTML = '';
                        products.forEach(product => {
                            const li = document.createElement('li');
                            li.textContent = product.productname;
                            li.setAttribute('data-product-id', product._id);
                            searchResults.appendChild(li);
                        });
                    })
                    .catch(error => {
                        console.error('Error searching products:', error);
                        searchResults.innerHTML = '';
                    });
            });

            searchResults.addEventListener('click', function (event) {
                const productId = event.target.getAttribute('data-product-id');
                if (productId) {
                    // Navigate to the details page using the product ID
                    window.location.href = `/productpage/${encodeURIComponent(productId)}`;
                }
            });
        });

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>

</html>